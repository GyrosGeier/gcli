#+TITLE: ghcli todos

** TODO handle errors from the github api
   - [[file:src/curl.c::ghcli_fetch(const char *url, ghcli_fetch_buffer *out)][ghcli_fetch]]
   - [[file:src/curl.c::ghcli_curl(FILE *stream, const char *url, const char *content_type)][ghcli_curl]]
** TODO find a better way to pass the content type to ghcli_curl
** DONE Man page
** DONE fetch PR comments
** TODO leaks of huge buffers [0%]
   We don't care about the little strings we sometimes malloc. But the
   huge buffers are annoying.
   - [ ] Valgrind
   - [ ] custom LD_PRELOAD hack
** DONE issues comments doesn't print the first comment
   it seems to reside in the issue data itself
   - solved by printing issue summaries
** TODO we don't handle pagination of the api results
   - [ ] See https://docs.github.com/en/rest/guides/getting-started-with-the-rest-api#pagination
** TODO speed up json_escape
** DONE repo-specific config file
** DONE comment under PR/Issue
** TODO make the use of C strings and string views more consistent
** DONE get rid of mktemp cuz binutils ld bitches about it
   #+begin_example
   src/editor.o: In function `ghcli_editor_get_user_message':
   editor.c:(.text+0x108): warning: the use of `mktemp' is
                   dangerous, better use `mkstemp' or `mkdtemp'
   #+end_example
